{
  "tech_stack": [
    "PHP 8.1+",
    "Vue 3 (Composition API)",
    "JavaScript (ES6+)",
    "Vite (Build Tool)",
    "Nextcloud App Framework",
    "OpenSheetMusicDisplay (Music Rendering)",
    "Tone.js (Audio Playback)",
    "Playwright (Testing)"
  ],
  "features": [
    {
      "name": "File Browser and Navigation",
      "description": "Hierarchical file browser with folder/file navigation, search functionality, and expandable folders. Displays music scores organized in folders with counters showing file counts. Supports real-time search filtering across all files and folders.",
      "files": [
        "src/components/App.vue"
      ]
    },
    {
      "name": "Music Score Rendering",
      "description": "High-quality music notation rendering using OpenSheetMusicDisplay library. Supports MusicXML (.xml, .musicxml, .mxml), compressed MusicXML (.mxl), MEI, and Guitar Pro formats (.gp, .gp3, .gp4, .gp5, .gpx). Handles complex musical notation with proper formatting.",
      "files": [
        "src/components/MusicViewer.vue",
        "lib/AppInfo/SupportedFormats.php"
      ]
    },
    {
      "name": "Audio Playback Controls",
      "description": "Complete playback control system with play, pause, stop, and loop functionality. Real-time cursor tracking during playback. Progress bar with time display (current/total) and measure indicators. Keyboard shortcuts support (Space for play/pause).",
      "files": [
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Instrument Mixer",
      "description": "Advanced per-channel audio mixer with individual volume controls for each instrument. Solo and mute functionality per channel. Collapsible mixer panel with channel visualization. Supports complex multi-instrument scores with independent channel control.",
      "files": [
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Tempo Control",
      "description": "Precise tempo adjustment with numeric input (40-240 BPM) and slider control. Real-time tempo changes during playback. BPM display with visual feedback. Keyboard shortcuts for tempo adjustment.",
      "files": [
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Volume Control",
      "description": "Master volume control (0-100) with numeric input and slider. Real-time volume adjustment during playback. Visual volume indicator.",
      "files": [
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Zoom Controls",
      "description": "Score zoom functionality with zoom in/out buttons and zoom reset. Visual zoom level indicator. Keyboard shortcuts (+ for zoom in, - for zoom out).",
      "files": [
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Welcome Screen",
      "description": "User onboarding with Quick Tips modal showing keyboard shortcuts and app features. Dismissible welcome dialog with formatted tips.",
      "files": [
        "src/components/App.vue"
      ]
    },
    {
      "name": "Admin Settings",
      "description": "Admin configuration panel for managing score folder paths. Multiple folder support with JSON storage. Folder browser with navigation and selection. Change detection and save validation. CSV to JSON migration support.",
      "files": [
        "src/components/App.vue",
        "lib/Controller/SettingsController.php"
      ]
    },
    {
      "name": "File API Backend",
      "description": "RESTful API for file operations. List scores from configured folders with recursive scanning. Support for multiple score folder paths. File content retrieval by ID. Public share token support.",
      "files": [
        "lib/Controller/ApiController.php"
      ]
    },
    {
      "name": "Settings API Backend",
      "description": "Admin-only settings management API. Get/set score folder configuration. Browse filesystem with security validation. Path traversal prevention. Multiple folder paths support with JSON encoding.",
      "files": [
        "lib/Controller/SettingsController.php"
      ]
    },
    {
      "name": "Page Controller",
      "description": "Nextcloud page rendering controller. Main app page initialization. Content Security Policy headers configuration. Initial state injection for frontend.",
      "files": [
        "lib/Controller/PageController.php"
      ]
    },
    {
      "name": "Public Share Controller",
      "description": "Public share functionality for sharing scores without authentication. Token-based access. Public page rendering with CSP configuration.",
      "files": [
        "lib/Controller/PublicController.php"
      ]
    },
    {
      "name": "Content Security Policy Service",
      "description": "CSP configuration management for secure script loading. Font and media source whitelisting. Base64 data URI support for inline content.",
      "files": [
        "lib/Service/CspService.php"
      ]
    },
    {
      "name": "Authentication Middleware",
      "description": "Request authentication and authorization. Admin role verification. Logged-in user validation. Nextcloud user context integration.",
      "files": [
        "lib/Traits/RequiresAuth.php",
        "lib/Traits/RequiresAdmin.php"
      ]
    },
    {
      "name": "Application Bootstrap",
      "description": "Nextcloud app initialization and service registration. Dependency injection container setup. Route registration. CSP policy configuration.",
      "files": [
        "lib/AppInfo/Application.php"
      ]
    },
    {
      "name": "Search Functionality",
      "description": "Real-time search across all music files and folders. Case-insensitive filtering. Search result counter with visual feedback. Clear search functionality.",
      "files": [
        "src/components/App.vue"
      ]
    },
    {
      "name": "Keyboard Shortcuts",
      "description": "Comprehensive keyboard shortcut system. Space: play/pause. Arrow keys: navigation. +/-: zoom. F: fullscreen. L: loop toggle. M: mixer toggle. Escape: close dialogs.",
      "files": [
        "src/components/App.vue",
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Responsive Design",
      "description": "Adaptive layout with collapsible sidebar. Mobile-friendly controls. Material Design iconography. Nextcloud Vue component integration.",
      "files": [
        "src/components/App.vue",
        "src/components/MusicViewer.vue"
      ]
    },
    {
      "name": "Error Handling",
      "description": "User-friendly error messages. Loading states with skeleton screens. File loading failure handling. Graceful degradation for unsupported formats.",
      "files": [
        "src/components/App.vue",
        "src/components/MusicViewer.vue"
      ]
    }
  ]
}
